<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Esteban Martínez — Design Leader</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fraunces:ital,opsz,wght@0,9..144,100..900;1,9..144,100..900&family=Manrope:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    
    <style>
        /* Clase especial para palabras destacadas en Fraunces */
        .highlight-lora {
            font-family: 'Fraunces', serif;
            font-weight: 400;
            font-style: italic;
            color: #1037F6;
            font-variation-settings: "SOFT" 100;
        }

        /* --- PRELOADER --- */
        .preloader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: var(--ink); z-index: 10000;
            display: flex; justify-content: flex-end; align-items: flex-end; padding: 40px;
            transition: transform 1s cubic-bezier(0.83, 0, 0.17, 1);
        }
        .loader-content { font-family: 'Manrope', sans-serif; color: #B2F055; font-size: 10vw; line-height: 1; }
        body.loaded .preloader { transform: translateY(-100%); }
        body.loading { overflow: hidden; }

        /* --- CURSOR --- */
        .cursor-dot {
            width: 12px; height: 12px; background-color: var(--ink);
            border-radius: 50%; position: fixed; pointer-events: none; z-index: 10001;
            transform: translate(-50%, -50%); transition: width 0.2s, height 0.2s;
            mix-blend-mode: normal;
        }
        body.hovering .cursor-dot { width: 80px; height: 80px; background-color: #B2F055; mix-blend-mode: multiply; }

        /* --- PLANETARY CANVAS --- */
        /* Styles moved to style.css */
    </style>
</head>
<body class="loading">

    <div class="preloader" id="preloader">
        <div class="loader-content" id="counter">000</div>
    </div>
    <div class="cursor-dot" id="cursorDot"></div>

    <div class="container">
        <header>
            <span class="logo mono">ESTEBAN MARTÍNEZ</span>
            <nav class="nav-links">
                <a href="#work" class="nav-link">Work</a>
                <a href="#about" class="nav-link">About</a>
            </nav>
            <a href="mailto:hello@estebanmartinez.site" class="contact-link">Contact →</a>
        </header>

        <section class="hero">
            <div class="hero-wrapper">
                <div class="hero-mesh-container">
                    <canvas id="planetary-canvas"></canvas>
                </div>
                
                <div class="hero-text-container">
                    <div class="hero-text-block">
                        <span class="hero-text-normal">I see design as </span>
                        <span class="hero-text-highlight">purposeful creativity,</span>
                        <span class="hero-text-normal"> </span>
                        <span class="hero-text-normal">a powerful force that can refine everyday life or revolutionize entire industries.</span>
                    </div>
                    <div class="hero-text-block">
                        <span class="hero-text-bold">I focus on helping designers and design teams </span>
                        <span class="hero-text-bold">deliver on that promise.</span>
                    </div>
                </div>
                
                <div class="hero-meta">
                    <div class="meta-block">
                        <div class="meta-label">Experienced in</div>
                        <div class="meta-value">Strategic design, Design ops & Innovation</div>
                    </div>
                    <div class="meta-block">
                        <div class="meta-label">LOCATION</div>
                        <div class="meta-value">Mexico City</div>
                    </div>
                </div>
            </div>
        </section>

        <section id="work" class="work-section">
            <div class="section-label mono">
                {01} — Selected Archive
            </div>

            <div class="project-list">
                <a href="designing-in-the-ai-era.html" class="project-row" data-img="https://via.placeholder.com/600x400/F2F2F2/111?text=AI+ERA">
                    <span class="p-id mono">01</span>
                    <span class="p-title">Designing in the AI Era: A Framework</span>
                    <span class="p-tags mono">Design Ops / AI Strategy</span>
                    <span class="p-arrow">→</span>
                </a>
                
                <a href="building-customer-centric-culture-fintech.html" class="project-row" data-img="assets/img/website-context.png">
                    <span class="p-id mono">02</span>
                    <span class="p-title">Building a Customer Centric Culture in Fintech</span>
                    <span class="p-tags mono">Strategy / Transformation</span>
                    <span class="p-arrow">→</span>
                </a>
                
                <a href="centeo.html" class="project-row" data-img="https://via.placeholder.com/600x400/F2F2F2/111?text=CENTEO">
                    <span class="p-id mono">03</span>
                    <span class="p-title">Centeo</span>
                    <span class="p-tags mono">UI Design / Fintech</span>
                    <span class="p-arrow">→</span>
                </a>

                <a href="lok-hub.html" class="project-row" data-img="https://via.placeholder.com/600x400/F2F2F2/111?text=LOK+HUB">
                    <span class="p-id mono">04</span>
                    <span class="p-title">LOK Hub</span>
                    <span class="p-tags mono">Product Design / Logistics</span>
                    <span class="p-arrow">→</span>
                </a>
                
                <a href="crypto-wallet.html" class="project-row" data-img="https://via.placeholder.com/600x400/F2F2F2/111?text=CRYPTO">
                    <span class="p-id mono">05</span>
                    <span class="p-title">Crypto Wallet</span>
                    <span class="p-tags mono">UI Design / Web3</span>
                    <span class="p-arrow">→</span>
                </a>
            </div>
        </section>

        <section id="about" class="about-section">
            <div class="section-label mono" style="margin-bottom: 64px; border-bottom: 2px solid var(--ink); padding-bottom: 12px;">{02} — Philosophy & Metrics</div>
            
            <div class="philosophy-container">
                <div class="philosophy-card">
                    <span class="quote-symbol">"</span>
                    
                    <p class="editorial-quote">
                        I build <strong>innovation systems</strong> that enable design to scale. Bridging the gap between creative vision and operational reality.
                    </p>
                    
                    <p class="editorial-sub">
                        Throughout my career, I've realized that for design to have an impact, designers should care about the conversations, the processes, and the culture we build.
                    </p>
                </div>
                <div class="data-strip">
                    <div class="data-point">
                        <span class="dp-label">Experience</span>
                        <span class="dp-value">8+ Years</span>
                    </div>
                    <div class="data-point">
                        <span class="dp-label">Delivered</span>
                        <span class="dp-value">50+ Projects</span>
                    </div>
                    <div class="data-point">
                        <span class="dp-label">Impact</span>
                        <span class="dp-value">~10M Users</span>
                    </div>
                    <div class="data-point">
                        <span class="dp-label">Leadership</span>
                        <span class="dp-value">4 Years</span>
                    </div>
                </div>
            </div>
        </section>

        <footer>
            <div class="mono">BASED IN MEXICO CITY<br>AVAILABLE WORLDWIDE</div>
            <a href="mailto:hello@estebanmartinez.site" class="email-big">Let's Talk.</a>
        </footer>
    </div>

    <script>
        // PRELOADER
        const counterElement = document.getElementById('counter');
        let count = 0;
        const updateCounter = setInterval(() => {
            count += Math.floor(Math.random() * 5) + 1;
            if (count > 100) count = 100;
            counterElement.textContent = count.toString().padStart(3, '0');
            if (count === 100) {
                clearInterval(updateCounter);
                setTimeout(() => {
                    document.body.classList.remove('loading');
                    document.body.classList.add('loaded');
                }, 200);
            }
        }, 30);

        // CURSOR
        const cursorDot = document.getElementById('cursorDot');
        const clickables = document.querySelectorAll('a, button, .hover-trigger');

        document.addEventListener('mousemove', (e) => {
            cursorDot.style.left = e.clientX + 'px';
            cursorDot.style.top = e.clientY + 'px';
        });

        clickables.forEach(el => {
            el.addEventListener('mouseenter', () => document.body.classList.add('hovering'));
            el.addEventListener('mouseleave', () => document.body.classList.remove('hovering'));
        });

        // PLANETARY SYSTEM MESH CANVAS
        const canvas = document.getElementById('planetary-canvas');
        if (canvas) {
            const ctx = canvas.getContext('2d');
            
            // Set canvas to fit container - use full area of the bordered rectangle
            const container = canvas.parentElement;
            canvas.width = container.offsetWidth;
            canvas.height = container.offsetHeight;
            
            let time = 0;
            let speedMultiplier = 1.0;
            let zoomLevel = 0.65; // Zoom out para ver más planetas
            
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            
            // Planet class
            class Planet {
                constructor(options) {
                    this.baseX = options.x;
                    this.baseY = options.y;
                    this.radius = options.radius;
                    this.color = options.color;
                    this.glowColor = options.glowColor;
                    this.orbitRadius = options.orbitRadius || 0;
                    this.orbitSpeed = options.orbitSpeed || 0;
                    this.orbitPhase = options.orbitPhase || 0;
                    this.isSun = options.isSun || false;
                }
                
                getPosition() {
                    if (this.orbitRadius === 0) {
                        return { x: this.baseX, y: this.baseY, z: 0 };
                    }
                    
                    const angle = time * this.orbitSpeed * speedMultiplier + this.orbitPhase;
                    
                    const ellipseX = Math.cos(angle) * this.orbitRadius * zoomLevel;
                    const ellipseY = Math.sin(angle) * this.orbitRadius * 0.7 * zoomLevel;
                    
                    const rotationAngle = -Math.PI / 7;
                    const cos = Math.cos(rotationAngle);
                    const sin = Math.sin(rotationAngle);
                    
                    const rotatedX = ellipseX * cos - ellipseY * sin;
                    const rotatedY = ellipseX * sin + ellipseY * cos;
                    
                    const x = this.baseX + rotatedX;
                    const y = this.baseY + rotatedY;
                    const z = Math.sin(angle) * this.orbitRadius;
                    
                    return { x, y, z };
                }
                
                draw(sunPos) {
                    const pos = this.getPosition();
                    const scaledRadius = this.radius * zoomLevel;
                    
                    if (this.isSun) {
                        // Sun completely removed - no circle, no glow, only mesh deformation reveals it
                        // This keeps the background clean white
                    }
                }
            }
            
            const sun = new Planet({
                x: centerX,
                y: centerY,
                radius: 120,
                color: '#4A4A4A',
                glowColor: 'rgba(74, 74, 74, 0.6)',
                isSun: true
            });
            
            const planets = [
                new Planet({
                    x: centerX,
                    y: centerY,
                    radius: 45,
                    color: '#FFFFFF',
                    glowColor: 'rgba(255, 255, 255, 1)',
                    orbitRadius: 200,
                    orbitSpeed: 0.0008,
                    orbitPhase: Math.PI
                }),
                new Planet({
                    x: centerX,
                    y: centerY,
                    radius: 35,
                    color: '#FFFFFF',
                    glowColor: 'rgba(255, 255, 255, 1)',
                    orbitRadius: 330,
                    orbitSpeed: 0.0005,
                    orbitPhase: 0
                }),
                new Planet({
                    x: centerX,
                    y: centerY,
                    radius: 25,
                    color: '#FFFFFF',
                    glowColor: 'rgba(255, 255, 255, 1)',
                    orbitRadius: 460,
                    orbitSpeed: 0.00035,
                    orbitPhase: Math.PI * 0.7
                }),
                new Planet({
                    x: centerX,
                    y: centerY,
                    radius: 55,
                    color: '#FFFFFF',
                    glowColor: 'rgba(255, 255, 255, 1)',
                    orbitRadius: 600,
                    orbitSpeed: 0.00025,
                    orbitPhase: Math.PI * 1.5
                })
            ];
            
            const pixelGridSpacing = 3; // Reduced spacing for more lines/denser mesh
            const lineWidth = 2;
            
            function drawDisplacedPixelGrid() {
                ctx.save();
                
                // Apply rotation transform
                ctx.translate(canvas.width / 2, canvas.height / 2);
                ctx.rotate(Math.PI / 12);
                ctx.translate(-canvas.width / 2, -canvas.height / 2);
                
                const sunPos = sun.getPosition();
                const planetPositions = planets.map(p => ({
                    ...p.getPosition(),
                    radius: p.radius * zoomLevel
                }));
                
                const allBodies = [
                    { x: sunPos.x, y: sunPos.y, radius: sun.radius * zoomLevel },
                    ...planetPositions
                ];
                
                const gridExtension = 250;
                const gridPoints = [];
                for (let x = -gridExtension; x < canvas.width + gridExtension; x += pixelGridSpacing) {
                    gridPoints[x] = [];
                    for (let y = -gridExtension; y < canvas.height + gridExtension; y += pixelGridSpacing) {
                        let finalX = x;
                        let finalY = y;
                        
                        allBodies.forEach(body => {
                            const dx = x - body.x;
                            const dy = y - body.y;
                            const distance = Math.sqrt(dx * dx + dy * dy);
                            
                            if (distance < body.radius) {
                                const normalizedDist = distance / body.radius;
                                // Use smoother falloff to reduce halo effect
                                const heightFactor = Math.pow(1 - normalizedDist, 2); // Quadratic falloff instead of sqrt
                                const lift = heightFactor * body.radius * 0.6; // Reduced from 0.8
                                // Apply displacement perpendicular to the line from body center
                                const angle = Math.atan2(dy, dx);
                                finalX += Math.cos(angle) * lift * 0.3; // Small X displacement
                                finalY -= lift; // Main Y displacement
                            }
                        });
                        
                        gridPoints[x][y] = {
                            x: finalX,
                            y: finalY
                        };
                    }
                }
                
                ctx.lineWidth = lineWidth;
                ctx.strokeStyle = 'rgba(16, 55, 246, 0.4)';
                ctx.setLineDash([4, 2]);
                
                const drawExtension = 250;
                for (let y = -drawExtension; y < canvas.height + drawExtension; y += pixelGridSpacing) {
                    ctx.beginPath();
                    let pathStarted = false;
                    let lastX = -Infinity;
                    let lastY = -Infinity;
                    
                    for (let x = -drawExtension; x < canvas.width + drawExtension; x += pixelGridSpacing) {
                        if (gridPoints[x] && gridPoints[x][y] && gridPoints[x + pixelGridSpacing] && gridPoints[x + pixelGridSpacing][y]) {
                            const point1 = gridPoints[x][y];
                            const point2 = gridPoints[x + pixelGridSpacing][y];
                            
                            // Skip drawing if the jump is too large (to avoid halo artifacts)
                            if (pathStarted && Math.abs(point1.x - lastX) > pixelGridSpacing * 2) {
                                ctx.stroke();
                                pathStarted = false;
                            }
                            
                            if (!pathStarted) {
                                ctx.moveTo(point1.x, point1.y);
                                pathStarted = true;
                            }
                            ctx.lineTo(point2.x, point2.y);
                            lastX = point2.x;
                            lastY = point2.y;
                        } else if (pathStarted) {
                            // Break the path if there's a gap
                            ctx.stroke();
                            pathStarted = false;
                        }
                    }
                    
                    if (pathStarted) {
                        ctx.stroke();
                    }
                }
                
                ctx.setLineDash([]);
                ctx.restore();
            }
            
            function drawOrbits() {
            }
            
            function animate() {
                ctx.fillStyle = 'rgba(255, 255, 255, 1)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                drawOrbits();
                
                const sunPos = sun.getPosition();
                
                const allObjects = [
                    { obj: sun, pos: sunPos },
                    ...planets.map(p => ({ obj: p, pos: p.getPosition() }))
                ];
                
                allObjects.sort((a, b) => a.pos.z - b.pos.z);
                
                drawDisplacedPixelGrid();
                
                allObjects.forEach(({ obj, pos }) => {
                    obj.draw(sunPos);
                });
                
                time += 16;
                requestAnimationFrame(animate);
            }
            
            // Handle window resize
            let resizeTimeout;
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(() => {
                    const container = canvas.parentElement;
                    canvas.width = container.offsetWidth;
                    canvas.height = container.offsetHeight;
                    const centerX = canvas.width / 2;
                    const centerY = canvas.height / 2;
                    sun.baseX = centerX;
                    sun.baseY = centerY;
                    planets.forEach(planet => {
                        planet.baseX = centerX;
                        planet.baseY = centerY;
                    });
                }, 250);
            });
            
            animate();
        }

        // ANIMATION FOR PHILOSOPHY SECTION - Expand from corners
        const aboutSection = document.querySelector('.about-section');
        if (aboutSection) {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animated');
                        // Una vez animado, podemos dejar de observar
                        observer.unobserve(entry.target);
                    }
                });
            }, {
                threshold: 0.2, // Se activa cuando el 20% de la sección es visible
                rootMargin: '0px 0px -100px 0px'
            });
            
            observer.observe(aboutSection);
        }
    </script>
</body>
</html>
